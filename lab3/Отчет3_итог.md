# Лабораторная 3
## Задание: 
Сделать тоже самое, что и в лаб-2, только использовать 2 видеокарты.

## Ход работы
1.Задание было выполнено на кластере cluster-gpn.nsu.ru

2.Было реализовано три фильтра - гауссовское размытие, фильтр Собеля, медианный фильтр.

3.В качестве изображений (.png) было выбрано два:

    -Изображение№1 (cat1.png):280*210
    -Изображение№1 (images.png): 1811*1017

4.Инициализируется два GPU - GPU0 и GPU1.

5.Изображение разделяется по высоте между двумя GPU:

GPU0 обрабатывает верхнюю половину + 1 строка перекрытия (overlap = 1).

GPU1 обрабатывает нижнюю половину + 1 строка перекрытия (для корректной обработки границ фильтром 3×3).

6.Выделяется память на GPU0 и GPU1 под входные и выходные данные соответствующих частей изображения.

7.Один и тот же фильтр запускается параллельно на GPU0 и GPU1 с разными размерами обрабатываемой области.

8.Синхронизация и замер времени в миллисекундах.

## Результаты

Размер картинки: 280*210

#### blur: 8.92
#### edge: 0.06
#### denoise: 0.07

Размер картинки: 1811*1017

#### blur: 7.76
#### edge: 0.16
#### denoise: 0.26

## Вывод:

При использовании двух GPU производительность применения фильтров на маленьких изображениях уменьшается, а на больших - увеличивается.

Это можно объяснить следующими факторами:

    1.При работе с небольшими изображениями накладные расходы на распределение задач между двумя GPU могут превышать выгоду от параллельной обработки. 
    
    Например, время, необходимое для передачи данных между хостом и устройствами, а также время на инициализацию и синхронизацию между GPU, может быть 
    
    значительным по сравнению с временем обработки самого изображения.

    На больших изображениях накладные расходы на распределение задач становятся менее значительными по сравнению с временем обработки. В этом случае 
    
    выгода от использования нескольких GPU становится более очевидной, поскольку каждый GPU может обрабатывать значительную часть данных.

    2.Если изображение слишком маленькое, количество параллельных потоков, которые можно запустить на каждом GPU, может быть недостаточным для 
    
    эффективного использования ресурсов. Например, если количество пикселей меньше, чем количество потоков, доступных на GPU, то некоторые потоки могут 
    
    оставаться без работы.

    На больших изображениях количество пикселей и, соответственно, количество параллельных потоков значительно увеличивается. Это позволяет более 
    
    эффективно использовать вычислительные ресурсы обоих GPU

