# Лабораторная 3
## Задание: 
Сделать тоже самое, что и в лаб-2, только использовать 2 видеокарты.

## Ход работы
1.Задание было выполнено на кластере cluster-gpn.nsu.ru

2.Было реализовано три фильтра - гауссовское размытие, фильтр Собеля, медианный фильтр.

3.В качестве изображений (.png) было выбрано два:

    -Изображение№1 (cat1.png):280*210
    -Изображение№1 (images.png): 1811*1017

4.Инициализируется два GPU - GPU0 и GPU1.

5.Изображение разделяется по высоте между двумя GPU:

GPU0 обрабатывает верхнюю половину + 1 строка перекрытия (overlap = 1).

GPU1 обрабатывает нижнюю половину + 1 строка перекрытия (для корректной обработки границ фильтром 3×3).

6.Выделяется память на GPU0 и GPU1 под входные и выходные данные соответствующих частей изображения.

7.Один и тот же фильтр запускается параллельно на GPU0 и GPU1 с разными размерами обрабатываемой области.

8.Синхронизация и замер времени в миллисекундах.

## Результаты
**Размер картинки: 280*210**

**GPU**

Filter

#### blur: 6.82
#### edge: 0.03
#### denoise: 0.04

**Размер картинки: 1811*1017**

**GPU**

Filter

#### blur: 8.11
#### edge: 0.09
#### denoise: 0.15

## Выводы:

    1.На GPU самую высокую производительность получаем при применении Собеля, поскольку операция Собеля требует только простых целочисленных умножений и сложений, а также вычисления квадратного корня, что эффективно выполняется на GPU. При этом нет дополнительных накладных расходов на сортировку или сложную арифметику.
    2.Гауссовскоого размытия эффективнее работает на CPU.
    3.На CPU самую низкую производительность получаем, напротив, при применении медианного фильтра, поскольку для каждого пикселя требуется собрать 9 значений, затем отсортировать их (в коде — пузырьковая сортировка на GPU, std::sort на CPU), чтобы выбрать медиану.

## Визуализация для изображения№1:
![Описание изображения](cat_1.png)
![Описание изображения](output_blur_1.png)
![Описание изображения](output_denoise_1.png)
![Описание изображения](output_edge_1.png)
## Визуализация для изображения№2:
![Описание изображения](cat2.png)
![Описание изображения](output_blur_2.png)
![Описание изображения](output_denoise_2.png)
![Описание изображения](output_edge_2.png)

